(function(n,t){"use strict";var i=function(){var n=this;t(document).ready(function(){n.initialize()})},r=i.prototype;i.MENU_MAXIMIZED=1;i.MENU_COLLAPSED=2;i.MENU_HIDDEN=3;r._lastOpened=null;r.initialize=function(){this._enableEvents();this._invalidateMenu();this._evalMenuScrollbar()};r._enableEvents=function(){var n=this;t(window).on("resize",function(t){n._handleScreenSize(t)});t('[data-toggle="menubar"]').on("click",function(t){n._handleMenuToggleClick(t)});t('[data-dismiss="menubar"]').on("click",function(){n._handleMenubarLeave()});t("#main-menu").on("click","li",function(t){n._handleMenuItemClick(t)});t("#main-menu").on("click","a",function(t){n._handleMenuLinkClick(t)});t("body.menubar-hoverable").on("mouseenter","#menubar",function(){setTimeout(function(){n._handleMenubarEnter()},1)})};r._handleScreenSize=function(n){this._invalidateMenu();this._evalMenuScrollbar(n)};r._handleMenuToggleClick=function(){materialadmin.App.isBreakpoint("xs")||t("body").toggleClass("menubar-pin");var n=this.getMenuState();n===i.MENU_COLLAPSED?this._handleMenubarEnter():n===i.MENU_MAXIMIZED?this._handleMenubarLeave():n===i.MENU_HIDDEN&&this._handleMenubarEnter()};r._handleMenuItemClick=function(n){var u;n.stopPropagation();var r=t(n.currentTarget),f=r.find("> ul"),e=r.closest("ul");this._handleMenubarEnter(r);f.children().length!==0&&(this._closeSubMenu(e),u=this.getMenuState()===i.MENU_COLLAPSED,(u||r.hasClass("expanded")===!1)&&this._openSubMenu(r))};r._handleMenubarEnter=function(n){var i=this,f=t("body").hasClass("offcanvas-left-expanded"),e=t("#menubar").data("expanded"),r=n!==undefined,u;if((r===!0||f===!1)&&e!==!0){t("#content").one("mouseover",function(){i._handleMenubarLeave()});t("body").addClass("menubar-visible");t("#menubar").data("expanded",!0);t("#menubar").triggerHandler("enter");r===!1&&(this._lastOpened?(i=this,this._openSubMenu(this._lastOpened,0),this._lastOpened.parents(".gui-folder").each(function(){i._openSubMenu(t(this),0)})):(u=t("#main-menu > li.active"),this._openSubMenu(u,0)))}};r._handleMenubarLeave=function(){(t("body").removeClass("menubar-visible"),materialadmin.App.minBreakpoint("md")&&t("body").hasClass("menubar-pin"))||(t("#menubar").data("expanded",!1),materialadmin.App.isBreakpoint("xs")===!1&&this._closeSubMenu(t("#main-menu")))};r._handleMenuLinkClick=function(n){this.getMenuState()!==i.MENU_MAXIMIZED&&n.preventDefault()};r._closeSubMenu=function(n){var i=this;n.find("> li > ul").stop().slideUp(170,function(){t(this).closest("li").removeClass("expanded");i._evalMenuScrollbar()})};r._openSubMenu=function(n,i){var r=this;typeof i=="undefined"&&(i=170);this._lastOpened=n;n.addClass("expanding");n.find("> ul").stop().slideDown(i,function(){n.addClass("expanded");n.removeClass("expanding");r._evalMenuScrollbar();t("#main-menu ul").removeAttr("style")})};r._invalidateMenu=function(){var n=t("#main-menu a.active");n.parentsUntil(t("#main-menu")).each(function(){t(this).is("li")&&(t(this).addClass("active"),t(this).addClass("expanded"))});this.getMenuState()===i.MENU_COLLAPSED&&t("#main-menu").find("> li").removeClass("expanded");t("body").hasClass("menubar-visible")&&this._handleMenubarEnter();t("#main-menu").triggerHandler("ready");t("#menubar").addClass("animate")};r.getMenuState=function(){var n=t("#menubar").css("transform"),r=n?n.match(/-?[\d\.]+/g):null,u=i.MENU_MAXIMIZED;return r===null?t("#menubar").width()<=100?i.MENU_COLLAPSED:i.MENU_MAXIMIZED:r[4]==="0"?i.MENU_MAXIMIZED:i.MENU_HIDDEN};r._evalMenuScrollbar=function(){var n,i,r,f,e,u;t.isFunction(t.fn.nanoScroller)&&(n=t("#menubar .menubar-foot-panel").outerHeight(),n=Math.max(n,1),t(".menubar-scroll-panel").css({"padding-bottom":n}),i=t("#menubar"),i.length!==0)&&(r=t(".menubar-scroll-panel"),f=r.parent(),f.hasClass("nano-content")===!1&&r.wrap('<div class="nano"><div class="nano-content"><\/div><\/div>'),e=t(window).height()-i.position().top-i.find(".nano").position().top,u=r.closest(".nano"),u.css({height:e}),u.nanoScroller({preventPageScrolling:!0,iOSNativeScrolling:!0}))};window.materialadmin.AppNavigation=new i})(this.materialadmin,jQuery);