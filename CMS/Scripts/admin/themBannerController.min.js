myApp.controller("themBannerController",["$scope","$http","$window","$location","$filter","Url",function(n,t,i,r,u,f){n.banner={};n.chooseImage=function(){var t=new CKFinder;t.selectActionFunction=function(t){n.banner.image=t;n.$apply()};t.SelectFunction="ShowFileInfo";t.popup()};n.currentIdBanner=f.getParameterByName("id");n.currentIdBanner&&t.get("/API/BannerAPI/"+n.currentIdBanner).success(function(t){n.banner={id:t.id,title:t.title,ghichu:t.ghichu,description:t.description,image:t.image,link:t.link,text_link:t.text_link}});n.saveBanner=function(){n.currentIdBanner?t.put("/API/BannerAPI/"+n.banner.id,n.banner).success(function(){toastr.success("Thành công","Lưu Banner")}).error(function(){toastr.error("Thất bại","Thêm Banner")}):t.post("/API/BannerAPI/",n.banner).success(function(){toastr.success("Thành công","Thêm Banner");i.location.href="/Admin/Banners"}).error(function(){toastr.error("Thất bại","Thêm Banner")})};n.saveBannerAndExit=function(){n.currentIdBanner?t.put("/API/BannerAPI/"+n.banner.id,n.banner).success(function(){i.location.href="/Admin/Banners"}).error(function(){toastr.error("Thất bại","Lưu Banner")}):t.post("/API/BannerAPI/",n.banner).success(function(){i.location.href="/Admin/Banners"}).error(function(){toastr.error("Thất bại","Thêm Banner")})};n.saveBannerAndNew=function(){n.currentIdBanner?t.put("/API/BannerAPI/"+n.banner.id,n.banner).success(function(){i.location.href="/Admin/Banners/Create"}).error(function(){toastr.error("Thất bại","Lưu Danh mục")}):t.post("/API/BannersAPI/",n.banner).success(function(){i.location.href="/Admin/Banners/Create"}).error(function(){toastr.error("Thất bại","Thêm Banner")})};n.cancel=function(){i.location.href="/Admin/Banners"};n.changeTitle=function(){n.banner.alias=Alias.genAlias(n.banner.title)}}]);