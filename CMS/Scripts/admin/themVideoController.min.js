myApp.controller("themVideoController",["$scope","$http","$window","$location","$filter","$sce","Url",function(n,t,i,r,u,f,e){n.video={};n.chooseImage=function(){var t=new CKFinder;t.selectActionFunction=function(t){n.video.image=t;n.$apply()};t.SelectFunction="ShowFileInfo";t.popup()};n.currentIdVideo=e.getParameterByName("id");n.currentIdVideo&&t.get("/API/VideoAPI/"+n.currentIdVideo).success(function(t){n.video={id:t.id,title:t.title,note:t.note,description:t.description,link_video:t.link_video,link_post:t.link_post};n.link_video=f.trustAsResourceUrl(n.video.link_video)});n.save=function(){n.currentIdVideo?t.put("/API/VideosAPI/"+n.video.id,n.video).success(function(){toastr.success("Thành công","Lưu Video")}).error(function(){toastr.error("Thất bại","Thêm Video")}):t.post("/API/VideosAPI/",n.video).success(function(){toastr.success("Thành công","Thêm Video");i.location.href="/Admin/Videos"}).error(function(){toastr.error("Thất bại","Thêm Video")})};n.saveAndExit=function(){n.currentIdVideo?t.put("/API/VideosAPI/"+n.video.id,n.video).success(function(){i.location.href="/Admin/Videos"}).error(function(){toastr.error("Thất bại","Lưu Video")}):t.post("/API/VideoAPI/",n.video).success(function(){i.location.href="/Admin/Videos"}).error(function(){toastr.error("Thất bại","Thêm Video")})};n.saveAndNew=function(){n.currentIdVideo?t.put("/API/VideoAPI/"+n.video.id,n.video).success(function(){i.location.href="/Admin/Videos/Create"}).error(function(){toastr.error("Thất bại","Lưu Danh mục")}):t.post("/API/VideoAPI/",n.video).success(function(){i.location.href="/Admin/Videos/Create"}).error(function(){toastr.error("Thất bại","Thêm Video")})};n.cancel=function(){i.location.href="/Admin/Videos"};n.changeTitle=function(){};n.changeVideo=function(){n.link_video=f.trustAsResourceUrl(n.video.link_video)}}]);